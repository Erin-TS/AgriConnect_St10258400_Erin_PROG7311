@*
    a page for farmers to view all thier products
*@
@{

}

@model List<ProductModel>
@{
    ViewData["Title"] = "Product Listings";
    var userRole = Context.Session.GetString("UserRole");
}
@if (string.IsNullOrEmpty(userRole) || userRole.Equals("Employee"))
{
    //display unauhtorised access page
    <h1 class="card-title">Unauthorised access</h1>
}
else
{
    <div>
        <div class="text-center">
            <h1 >Product Listings</h1>
            <p >
                Please view your product listings<br />
            </p>
            <br />
            <div class="row-home">
                <div class="col-md-6-home">
                    <div class="card">
                        @if (Model != null && Model.Count > 0)
                        {
                            foreach (var product in Model)
                            {
                               
                                <div class="product-card">
                                    <img src="@Url.Content("~/images/" + product.productImage)" alt="Product Image" />
                                    <h2>@product.productName</h2>
                                    <p>@product.productDescription</p>
                                    <p>Category: @product.productCategory</p>
                                    <p>Production Date: @product.productionDate.ToString("yyyy-MM-dd")</p>
                                </div>
                            }
                        }
                        else
                        {
                            <p>No products found.</p>
                        }
                    </div>
                </div>
            </div>
        </div>
    </div>
}